<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Story... ğŸ’«</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Dancing+Script:wght@700&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            height: 100vh; overflow: hidden; font-family: 'Poppins', sans-serif;
            background: linear-gradient(180deg, #0c0c1a 0%, #1a0033 50%, #330066 100%);
            color: #fff; position: relative; cursor: none;
        }
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .star { position: absolute; background: #fff; border-radius: 50%; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.5); } }
        .hearts { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2; }
        .heart { position: absolute; font-size: 1.5em; color: #ff69b4; transform: translateZ(0); animation: heartFloat 8s infinite linear; }
        @keyframes heartFloat {
            0% { transform: translateY(100vh) rotate(0deg) scale(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg) scale(1.5); opacity: 0; }
        }
        .custom-cursor { position: fixed; width: 20px; height: 20px; background: radial-gradient(circle, #ff69b4, transparent); border-radius: 50%; pointer-events: none; z-index: 10; mix-blend-mode: difference; transition: transform 0.1s; }
        .section { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 0; transition: opacity 1s; z-index: 5; text-align: center; padding: 2em; }
        .section.active { opacity: 1; }
        h1 { font-size: 3em; font-family: 'Dancing Script', cursive; margin-bottom: 1em; text-shadow: 0 0 20px #ff69b4; animation: glow 2s infinite alternate; }
        @keyframes glow { 0% { text-shadow: 0 0 20px #ff69b4; } 100% { text-shadow: 0 0 40px #ff1493; } }
        p { font-size: 1.2em; max-width: 600px; line-height: 1.6; margin-bottom: 2em; }
        .step-btn, .choice-btn { padding: 1em 2em; margin: 0.5em; border: 2px solid #ff69b4; border-radius: 50px; background: transparent; color: #fff; font-size: 1.1em; cursor: pointer; transition: all 0.3s; backdrop-filter: blur(10px); }
        .step-btn:hover, .choice-btn:hover { background: #ff69b4; transform: scale(1.1) rotateY(10deg); box-shadow: 0 10px 30px rgba(255,105,180,0.5); }
        .flower { font-size: 4em; animation: bloom 2s; display: none; }
        @keyframes bloom { 0% { transform: scale(0) rotate(0deg); } 50% { transform: scale(1.2) rotate(180deg); } 100% { transform: scale(1) rotate(360deg); } }
        .typing { overflow: hidden; border-right: 3px solid #ff69b4; white-space: nowrap; animation: typing 3s steps(40, end), blink 0.75s step-end infinite; }
        @keyframes typing { from { width: 0; } to { width: 100%; } }
        @keyframes blink { from, to { border-color: transparent; } 50% { border-color: #ff69b4; } }
        #final-response.positive { color: #ff69b4; }
        #final-response.negative { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
        @media (max-width: 600px) { h1 { font-size: 2em; } p { font-size: 1em; } }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="hearts" id="hearts"></div>
    <div class="custom-cursor" id="cursor"></div>

    <!-- Section 1: Welcome & Parallax hint -->
    <div class="section active" id="sec1">
        <h1>Hey [Her Name] ğŸ’–</h1>
        <p>Click anywhere to dive into our story under the stars...</p>
    </div>

    <!-- Section 2: Memory 1 -->
    <div class="section" id="sec2">
        <h1>Remember our first laugh? ğŸ˜‚</h1>
        <p>That coffee shop chat that lasted hours. You made my world brighter.</p>
        <button class="step-btn" onclick="nextSection(3)">Next memory â†’</button>
    </div>

    <!-- Section 3: Quiz Choice -->
    <div class="section" id="sec3">
        <h1>What's our song? ğŸ¶</h1>
        <p>Pick one (hint: it's ours!)</p>
        <button class="choice-btn" onclick="quizChoice('correct')">That one we danced to! ğŸ’ƒ</button>
        <button class="choice-btn" onclick="quizChoice('wrong1')">Something else...</button>
        <button class="choice-btn" onclick="quizChoice('wrong2')">No idea! ğŸ˜…</button>
    </div>

    <!-- Section 4: Dynamic Response based on quiz -->
    <div class="section" id="sec4">
        <h1 id="quiz-title">Spot on! ğŸ‰</h1>
        <p id="quiz-p">You know me so well. That's why you're special.</p>
        <button class="step-btn" onclick="nextSection(5)">Continue our adventure</button>
    </div>

    <!-- Section 5: The Ask -->
    <div class="section" id="sec5">
        <h1>Will you go out with me? ğŸŒ¹</h1>
        <div style="display: flex; gap: 1em; flex-wrap: wrap; justify-content: center;">
            <button class="choice-btn big-yes" onclick="finalChoice('yes')">Yes!! ğŸ˜</button>
            <button class="choice-btn" id="maybe" onclick="finalChoice('maybe')">Maybe... ğŸ¤”</button>
            <button class="choice-btn shy-no" id="no" onclick="finalChoice('no')">Not now ğŸ˜”</button>
        </div>
    </div>

    <!-- Final Response -->
    <div class="section" id="final">
        <div id="final-response" class="typing"></div>
        <div id="flower" class="flower">ğŸŒ¸</div>
        <button class="step-btn" onclick="restart()" style="margin-top: 2em;">Relive? ğŸ’•</button>
    </div>

    <script>
        let currentSec = 1;
        const responses = {
            correct: { title: 'Perfect! ğŸ¶', p: 'Our song still gives me butterflies. â¤ï¸' },
            wrong1: { title: 'Close! ğŸ˜‰', p: 'But you know deep down... Next!' },
            wrong2: { title: 'Aww, let me remind you later! ğŸ˜˜', p: 'It\'s the one that plays in my heart.' }
        };
        const finalMsgs = {
            yes: 'YASSS! ğŸŒŸ Date 1 incomingâ€”dinner under stars? I love you already! ğŸ’–',
            maybe: 'Maybe turns to yes? Let\'s chat over ice cream! ğŸ¨ğŸ’•',
            no: 'Heart a bit cracked, but I\'ll wait. You\'re worth it. ğŸ¥ºâ¤ï¸'
        };

        // Stars parallax
        function createStars() {
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
                star.style.animationDelay = Math.random() * 3 + 's';
                document.getElementById('stars').appendChild(star);
            }
        }
        createStars();

        // Hearts
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—'][Math.floor(Math.random() * 3)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 4 + 5) + 's';
            document.getElementById('hearts').appendChild(heart);
            setTimeout(() => heart.remove(), 9000);
        }
        setInterval(createHeart, 800);

        // Custom cursor
        document.addEventListener('mousemove', e => {
            document.getElementById('cursor').style.left = e.clientX + 'px';
            document.getElementById('cursor').style.top = e.clientY + 'px';
        });

        // Click to next
        document.addEventListener('click', e => {
            if (currentSec === 1 && !e.target.closest('button')) nextSection(2);
        });

        function nextSection(sec) {
            document.getElementById(`sec${currentSec}`).classList.remove('active');
            currentSec = sec;
            document.getElementById(`sec${currentSec}`).classList.add('active');
        }

        function quizChoice(type) {
            document.getElementById('quiz-title').innerText = responses[type].title;
            document.getElementById('quiz-p').innerText = responses[type].p;
            document.querySelector('#sec3 .choice-btn').style.display = 'none';
        }

        function finalChoice(choice) {
            nextSection(6);
            const msg = document.getElementById('final-response');
            msg.className = choice === 'yes' ? 'positive typing' : 'negative typing';
            msg.innerText = finalMsgs[choice];
            if (choice === 'yes') {
                confetti({ particleCount: 200, spread: 120, origin: { y: 0.6 } });
                document.getElementById('flower').style.display = 'block';
                document.getElementById('flower').innerHTML = 'ğŸŒºğŸ’ğŸŒ¸';
            }
            // Animate No/Maybe buttons playfully
            if (choice === 'no') {
                document.getElementById('no').style.transform = 'translateX(50px)';
            }
        }

        function restart() {
            location.reload();
        }
    </script>
</body>
</html>